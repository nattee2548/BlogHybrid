@* 
    Auth Modals - ใช้กับ Login/Register ที่มีอยู่แล้ว
    วิธีใช้: เพิ่ม <partial name="_AuthModals" /> ใน _Layout.cshtml
*@

@model dynamic

<!-- LOGIN MODAL -->
<div class="auth-modal-overlay" id="loginModal">
    <div class="auth-modal">
        <div class="auth-modal-header">
            <h2 class="auth-modal-title">เข้าสู่ระบบ</h2>
            <button type="button" class="auth-modal-close" onclick="closeAuthModal('loginModal')">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <div class="auth-logo">
                <i class="bi bi-box-arrow-in-right"></i>
            </div>
            <p class="auth-subtitle">ยินดีต้อนรับกลับสู่ <strong>404alk</strong></p>

            <form method="post" asp-controller="Account" asp-action="Login" id="loginForm">
                @Html.AntiForgeryToken()

                <div class="form-group">
                    <label for="loginEmail" class="form-label">
                        <i class="bi bi-envelope"></i> อีเมล
                    </label>
                    <input type="email" id="loginEmail" name="Email" class="form-control"
                           placeholder="example@email.com" required autocomplete="email" />
                </div>

                <div class="form-group">
                    <label for="loginPassword" class="form-label">
                        <i class="bi bi-lock"></i> รหัสผ่าน
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="loginPassword" name="Password" class="form-control"
                               placeholder="กรอกรหัสผ่าน" required autocomplete="current-password" />
                        <button type="button" class="password-toggle" onclick="togglePassword('loginPassword', this)">
                            <i class="bi bi-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="form-options">
                    <div class="form-check">
                        <input type="checkbox" id="loginRememberMe" name="RememberMe" class="form-check-input" />
                        <label for="loginRememberMe" class="form-check-label">จดจำฉันไว้</label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-auth">
                    <i class="bi bi-box-arrow-in-right"></i> เข้าสู่ระบบ
                </button>
            </form>

            <div class="auth-modal-footer">
                <p>
                    ยังไม่มีบัญชี?
                    <a href="#" onclick="switchAuthModal('loginModal', 'registerModal')">สร้างบัญชีใหม่</a>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- REGISTER MODAL -->
<div class="auth-modal-overlay" id="registerModal">
    <div class="auth-modal">
        <div class="auth-modal-header">
            <h2 class="auth-modal-title">สร้างบัญชีใหม่</h2>
            <button type="button" class="auth-modal-close" onclick="closeAuthModal('registerModal')">
                <i class="bi bi-x-lg"></i>
            </button>
        </div>
        <div class="auth-modal-body">
            <div class="auth-logo">
                <i class="bi bi-person-plus"></i>
            </div>
            <p class="auth-subtitle">เข้าร่วมชุมชน <strong>404alk</strong> วันนี้</p>

            <form method="post" asp-controller="Account" asp-action="Register" id="registerForm">
                @Html.AntiForgeryToken()

                <div class="form-group">
                    <label for="registerEmail" class="form-label">
                        <i class="bi bi-envelope"></i> อีเมล
                    </label>
                    <input type="email" id="registerEmail" name="Email" class="form-control"
                           placeholder="example@email.com" required autocomplete="email" />
                </div>

                <div class="form-group">
                    <label for="registerDisplayName" class="form-label">
                        <i class="bi bi-person"></i> ชื่อที่แสดง
                    </label>
                    <input type="text" id="registerDisplayName" name="DisplayName" class="form-control"
                           placeholder="username" required autocomplete="username" />
                </div>

                <div class="form-group">
                    <label for="registerPassword" class="form-label">
                        <i class="bi bi-lock"></i> รหัสผ่าน
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="registerPassword" name="Password" class="form-control"
                               placeholder="อย่างน้อย 6 ตัวอักษร" required minlength="6" autocomplete="new-password" />
                        <button type="button" class="password-toggle" onclick="togglePassword('registerPassword', this)">
                            <i class="bi bi-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="registerConfirmPassword" class="form-label">
                        <i class="bi bi-lock-fill"></i> ยืนยันรหัสผ่าน
                    </label>
                    <div class="password-input-wrapper">
                        <input type="password" id="registerConfirmPassword" name="ConfirmPassword" class="form-control"
                               placeholder="กรอกรหัสผ่านอีกครั้ง" required autocomplete="new-password" />
                        <button type="button" class="password-toggle" onclick="togglePassword('registerConfirmPassword', this)">
                            <i class="bi bi-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="form-check" style="margin: 1.5rem 0;">
                    <input type="checkbox"
                           id="registerAcceptTerms"
                           name="AcceptTerms"
                           class="form-check-input"
                           required />
                    <label for="registerAcceptTerms" class="form-check-label">
                        ยอมรับ <a href="#" style="color: var(--primary-color); text-decoration: underline;">ข้อกำหนดการใช้งาน</a> และ <a href="#" style="color: var(--primary-color); text-decoration: underline;">นโยบายความเป็นส่วนตัว</a>
                    </label>
                </div>

                <button type="submit" class="btn btn-primary btn-auth">
                    <i class="bi bi-person-plus"></i> สร้างบัญชี
                </button>
            </form>

            <div class="auth-modal-footer">
                <p>
                    มีบัญชีอยู่แล้ว?
                    <a href="#" onclick="switchAuthModal('registerModal', 'loginModal')">เข้าสู่ระบบ</a>
                </p>
            </div>
        </div>
    </div>
</div>