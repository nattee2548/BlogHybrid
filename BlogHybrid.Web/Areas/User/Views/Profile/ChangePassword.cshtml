@model BlogHybrid.Web.Areas.User.Models.ChangePasswordViewModel
@{
    ViewData["Title"] = "เปลี่ยนรหัสผ่าน";
}

<div class="main-container" style="padding: 80px 0 40px;">
    <div class="container" style="max-width: 600px;">

        <!-- Header -->
        <div class="mb-4">
            <h2 style="color: var(--text-primary); font-weight: 600;">
                <i class="bi bi-key"></i> เปลี่ยนรหัสผ่าน
            </h2>
            <p class="text-muted">อัปเดตรหัสผ่านของคุณเพื่อความปลอดภัย</p>
        </div>

        <!-- Form -->
        <div style="background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 32px;">
            <form asp-action="ChangePassword" method="post">
                @Html.AntiForgeryToken()

                @if (ViewData.ModelState.ErrorCount > 0)
                {
                    <div class="alert alert-danger" role="alert">
                        <i class="bi bi-exclamation-triangle"></i>
                        @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                        {
                            <div>@error.ErrorMessage</div>
                        }
                    </div>
                }

                <!-- Current Password -->
                <div class="mb-3">
                    <label asp-for="CurrentPassword" class="form-label fw-semibold" style="color: var(--text-primary);">
                        <i class="bi bi-lock"></i> รหัสผ่านปัจจุบัน <span class="text-danger">*</span>
                    </label>
                    <input asp-for="CurrentPassword"
                           class="form-control"
                           style="padding: 10px;"
                           autofocus />
                    <span asp-validation-for="CurrentPassword" class="text-danger"></span>
                </div>

                <hr class="my-4" />

                <!-- New Password -->
                <div class="mb-3">
                    <label asp-for="NewPassword" class="form-label fw-semibold" style="color: var(--text-primary);">
                        <i class="bi bi-lock-fill"></i> รหัสผ่านใหม่ <span class="text-danger">*</span>
                    </label>
                    <input asp-for="NewPassword"
                           class="form-control"
                           style="padding: 10px;" />
                    <span asp-validation-for="NewPassword" class="text-danger"></span>
                    <small class="text-muted">อย่างน้อย 6 ตัวอักษร</small>
                </div>

                <!-- Confirm Password -->
                <div class="mb-4">
                    <label asp-for="ConfirmPassword" class="form-label fw-semibold" style="color: var(--text-primary);">
                        <i class="bi bi-shield-check"></i> ยืนยันรหัสผ่านใหม่ <span class="text-danger">*</span>
                    </label>
                    <input asp-for="ConfirmPassword"
                           class="form-control"
                           style="padding: 10px;" />
                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                </div>

                <!-- Security Note -->
                <div class="alert alert-info" role="alert">
                    <i class="bi bi-info-circle"></i>
                    <strong>คำแนะนำ:</strong> ใช้รหัสผ่านที่มีความยาวอย่างน้อย 6 ตัวอักษร ประกอบด้วยตัวอักษรและตัวเลข
                </div>

                <!-- Buttons -->
                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary" style="padding: 10px 32px;">
                        <i class="bi bi-check-circle"></i> เปลี่ยนรหัสผ่าน
                    </button>
                    <a asp-action="Index" class="btn btn-outline-secondary" style="padding: 10px 32px;">
                        <i class="bi bi-x-circle"></i> ยกเลิก
                    </a>
                </div>
            </form>
        </div>

    </div>
</div>

<partial name="_ToastNotification" />

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}